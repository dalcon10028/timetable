(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8e51"],{3141:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-list",{attrs:{"two-line":""}},[a("v-list-item-group",{attrs:{multiple:"","active-class":"pink--text"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t._l(t.items,(function(e,n){return[a("v-list-item",{key:e.title,on:{click:function(a){return t.ShowMessage(e.id)}}},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.title)}}),a("v-list-item-subtitle",{domProps:{textContent:t._s(t.contentString(e.content))}}),t._v(" "+t._s(e.confirmed)+" ")],1),a("v-list-item-action",[a("v-list-item-action-text",{domProps:{textContent:t._s(t.timeString(e.created_time))}}),1===e.pinned?a("v-icon",{attrs:{tag:"span"}},[t._v("📌")]):t._e()],1)],1),n<t.items.length-1?a("v-divider",{key:n}):t._e()]}))],2)],1),a("show-message",{attrs:{bus:t.bus}}),a("write-message",{attrs:{bus:t.bus}}),a("v-btn",{attrs:{color:"pink",dark:"",fixed:"",bottom:"",right:"",fab:"",small:""}},[a("v-icon",{on:{click:function(e){return t.bus.$emit("show-form")}}},[t._v("mdi-plus")])],1)],1)},i=[],o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-card-title",[t._v("편지읽기")]),a("v-card-text",{staticClass:"text--primary"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-text-field",{attrs:{disabled:"",dense:"",value:t.message.title}})],1),a("v-row",{staticClass:"mt-5"},[a("v-textarea",{attrs:{outlined:"",value:t.message.content,height:"320","no-resize":"",disabled:""}})],1)],1)],1)],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v(" 닫기 ")]),a("v-btn",{attrs:{color:"pink",dark:""}},[t._v(" 좋아요 "),a("v-icon",{attrs:{tag:"span"}},[t._v("🥰")])],1)],1)],1)],1)},r=[],l={props:["bus"],data:function(){return{dialog:!1,message:{}}},methods:{},mounted:function(){var t=this;this.bus.$on("show-dialog",(function(){return t.dialog=!t.dialog})),this.bus.$on("show-message",(function(e){var a=e.id;t.$http.get("https://zodg2trlwb.execute-api.ap-northeast-2.amazonaws.com/2021-01-21/message/".concat(a)).then((function(e){var a=e.data;t.message=a[0]})).catch((function(e){return t.title=e})),t.$http.patch("https://zodg2trlwb.execute-api.ap-northeast-2.amazonaws.com/2021-01-21/message",{id:a}).catch((function(e){return t.title=e}))}))}},c=l,u=a("2877"),d=a("6544"),v=a.n(d),m=a("8336"),f=a("b0af"),h=a("99d9"),g=a("a523"),p=a("169a"),b=a("4bd4"),V=a("132d"),x=a("0fd9"),w=a("2fa4"),_=a("8654"),k=a("a844"),C=Object(u["a"])(c,s,r,!1,null,null,null),y=C.exports;v()(C,{VBtn:m["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VContainer:g["a"],VDialog:p["a"],VForm:b["a"],VIcon:V["a"],VRow:x["a"],VSpacer:w["a"],VTextField:_["a"],VTextarea:k["a"]});var $=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{staticClass:"d-flex flex-column"},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("편지쓰기")])]),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-row",[a("v-text-field",{attrs:{rules:t.titleRules,counter:15,label:"제목","single-line":"",filled:"",required:"",dense:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("v-row",[a("v-chip-group",{attrs:{mandatory:"","active-class":"primary--text"}},t._l(t.tags,(function(e){return a("v-chip",{key:e},[t._v(" "+t._s(e)+" ")])})),1)],1),a("v-row",{staticClass:"mt-5"},[a("v-textarea",{attrs:{filled:"",label:"내용",value:t.content,counter:500,rules:t.contentRules,height:"320","no-resize":"",required:""}})],1)],1)],1)],1),a("v-spacer"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v(" 닫기 ")]),a("v-btn",{attrs:{color:"green",dark:""},on:{click:t.sendMessage}},[t._v(" 보내기 ")])],1)],1)],1)},T=[],S={props:["bus"],data:function(){return{dialog:!1,valid:!1,title:"",type:0,tags:["단색","그라데이션","이미지"],content:"",titleRules:[function(t){return!!t||"제목을 적어주세요"},function(t){return t.length<=15||"제목은 15자 이내로 적어주세요"}],contentRules:[function(t){return!!t||"내용을 적어주세요"},function(t){return t.length<=500||"내용은 500자 이내로 적어주세요"}]}},methods:{sendMessage:function(){var t={title:this.title,created_time:(new Date).getTime(),type:this.type,author:"수현",content:this.content};this.$refs.form.reset(),alert(JSON.stringify(t))}},mounted:function(){var t=this;this.bus.$on("show-form",(function(){return t.dialog=!t.dialog}))}},z=S,M=a("cc20"),I=a("ef9a"),L=Object(u["a"])(z,$,T,!1,null,null,null),R=L.exports;v()(L,{VBtn:m["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VChip:M["a"],VChipGroup:I["a"],VContainer:g["a"],VDialog:p["a"],VForm:b["a"],VRow:x["a"],VSpacer:w["a"],VTextField:_["a"],VTextarea:k["a"]});var D={components:{ShowMessage:y,WriteMessage:R},data:function(){return{selected:[],items:[],bus:new o["a"]}},computed:{timeString:function(){return function(t){var e=(new Date).getTime(),a=Math.floor((e-t)/1e3/60);if(a<1)return"방금전";if(a<60)return"".concat(a,"분전");var n=Math.floor(a/60);if(n<24)return"".concat(n,"시간전");var i=Math.floor(a/60/24);return i<365?"".concat(i,"일전"):"".concat(Math.floor(i/365),"년전")}},contentString:function(){return function(t){return t.length<=12?t:t.substring(0,12)+"..."}}},methods:{ShowMessage:function(t){this.bus.$emit("show-message",{id:t}),this.bus.$emit("show-dialog")}},created:function(){var t=this;this.$http.get("https://zodg2trlwb.execute-api.ap-northeast-2.amazonaws.com/2021-01-21/message?user=hyeon").then((function(e){var a=e.data;t.items=a.reverse();for(var n=0;n<t.items.legnth;n++)0===a[n].confirmed&&t.selected.push(n)})).catch((function(t){return console.log(t)}))}},A=D,F=a("ce7e"),O=a("8860"),j=a("da13"),B=a("1800"),E=a("5d23"),J=a("1baa"),P=Object(u["a"])(A,n,i,!1,null,null,null);e["default"]=P.exports;v()(P,{VBtn:m["a"],VDivider:F["a"],VIcon:V["a"],VList:O["a"],VListItem:j["a"],VListItemAction:B["a"],VListItemActionText:E["a"],VListItemContent:E["b"],VListItemGroup:J["a"],VListItemSubtitle:E["c"],VListItemTitle:E["d"]})}}]);
//# sourceMappingURL=chunk-2d0b8e51.ea261a30.js.map